"use strict";(self.webpackChunk_minimal_material_kit_react=self.webpackChunk_minimal_material_kit_react||[]).push([[5658],{16455:function(e,t,n){n.d(t,{b8:function(){return v},ZQ:function(){return l},tR:function(){return b}});var r=n(12065),i=n(94162),a=n(96015),o=n(4565),s=n(80184);function l(e){var t=e.colors,n=e.limit,l=void 0===n?3:n,c=e.sx,d=t.slice(0,l),u=t.length-l;return(0,s.jsxs)(i.Z,{component:"span",direction:"row",alignItems:"center",justifyContent:"flex-end",sx:c,children:[d.map((function(e,t){return(0,s.jsx)(a.Z,{sx:{ml:-.75,width:16,height:16,borderRadius:"50%",border:function(e){return"solid 2px ".concat(e.palette.background.paper)},boxShadow:function(e){return"inset -1px 1px 2px ".concat((0,r.Fq)(e.palette.common.black,.24))},bgcolor:e}},e+t)})),t.length>l&&(0,s.jsx)(o.Z,{variant:"subtitle2",children:"+".concat(u)})]})}var c=n(1413),d=n(45987),u=n(45473),h=n(8523),p=["checked","whiteColor","sx"];function f(e){var t=e.checked,n=e.whiteColor,i=e.sx,o=(0,d.Z)(e,p),l=(0,s.jsx)(a.Z,{sx:{width:1,height:1,opacity:.48,borderRadius:"50%",position:"absolute",boxShadow:"4px 4px 8px 0 currentColor"}}),u=(0,s.jsx)(h.Z,{icon:"eva:checkmark-fill",sx:(0,c.Z)({opacity:0},t&&(0,c.Z)({opacity:1,color:"common.white"},n&&{color:"common.black"}))});return(0,s.jsxs)(a.Z,(0,c.Z)((0,c.Z)({sx:(0,c.Z)((0,c.Z)((0,c.Z)({width:20,height:20,display:"flex",borderRadius:"50%",position:"relative",alignItems:"center",justifyContent:"center",bgcolor:"currentColor",transition:function(e){return e.transitions.create("all",{duration:e.transitions.duration.shortest})}},n&&{border:function(e){return"solid 1px ".concat(e.palette.divider)},boxShadow:function(e){return"4px 4px 8px 0 ".concat((0,r.Fq)(e.palette.grey[500],.24))}}),t&&{transform:"scale(1.4)"}),i)},o),{},{children:[t&&l,u]}))}var x=["colors","selected","onChangeColor","sx"];function v(e){var t=e.colors,n=e.selected,r=e.onChangeColor,i=e.sx,o=(0,d.Z)(e,x);return(0,s.jsx)(a.Z,{sx:i,children:t.map((function(e){var t="#FFFFFF"===e||"white"===e;return(0,s.jsx)(u.Z,(0,c.Z)({size:"small",value:e,color:"default",checked:n.includes(e),onChange:function(){return r(e)},icon:(0,s.jsx)(f,{whiteColor:t}),checkedIcon:(0,s.jsx)(f,{checked:!0,whiteColor:t}),sx:{color:e,"&:hover":{opacity:.72},"& svg":{width:12,height:12}}},o),e)}))})}var g=n(72791),m=n(97265),Z=n(7226),j=["colors"],b=(0,g.forwardRef)((function(e,t){var n=e.colors,r=(0,d.Z)(e,j);return(0,s.jsx)(m.Z,(0,c.Z)((0,c.Z)({row:!0,ref:t},r),{},{children:n.map((function(e){var t="#FFFFFF"===e||"white"===e;return(0,s.jsx)(Z.Z,{value:e,color:"default",icon:(0,s.jsx)(f,{whiteColor:t}),checkedIcon:(0,s.jsx)(f,{checked:!0,whiteColor:t}),sx:{color:e,"&:hover":{opacity:.72},"& svg":{width:12,height:12}}},e)}))}))}))},7456:function(e,t,n){n.d(t,{Z:function(){return h}});var r=n(1413),i=n(45987),a=n(58195),o=n(40464),s=n(8440),l=n(77248),c=n(61091),d=n(80184),u=["title","content","action","open","onClose"];function h(e){var t=e.title,n=e.content,h=e.action,p=e.open,f=e.onClose,x=(0,i.Z)(e,u);return(0,d.jsxs)(a.Z,(0,r.Z)((0,r.Z)({fullWidth:!0,maxWidth:"xs",open:p,onClose:f},x),{},{children:[(0,d.jsx)(o.Z,{sx:{pb:2},children:t}),n&&(0,d.jsxs)(s.Z,{sx:{typography:"body2"},children:[" ",n," "]}),(0,d.jsxs)(l.Z,{children:[h,(0,d.jsx)(c.Z,{variant:"outlined",color:"inherit",onClick:f,children:"Cancel"})]})]}))}},87383:function(e,t,n){n.d(t,{Z:function(){return f}});var r=n(1413),i=n(45987),a=n(96015),o=n(94162),s=n(4565),l=n(33888),c=n(46283),d=n(11087),u=n(80184);function h(e){var t=e.link,n=e.activeLast,i=e.disabled,o=t.name,s=t.href,l=t.icon,h=(0,r.Z)({display:"inline-flex",alignItems:"center",color:"text.primary"},i&&!n&&{cursor:"default",pointerEvents:"none",color:"text.disabled"}),p=(0,u.jsxs)(u.Fragment,{children:[l&&(0,u.jsx)(a.Z,{component:"span",sx:{mr:1,display:"inherit","& svg":{width:20,height:20}},children:l}),o]});return s?(0,u.jsx)(c.Z,{component:d.rU,to:s,sx:h,children:p}):(0,u.jsxs)(a.Z,{sx:h,children:[" ",p," "]})}var p=["links","action","heading","moreLink","activeLast","sx"];function f(e){var t=e.links,n=e.action,d=e.heading,f=e.moreLink,v=e.activeLast,g=e.sx,m=(0,i.Z)(e,p),Z=t[t.length-1].name;return(0,u.jsxs)(a.Z,{sx:(0,r.Z)({mb:5},g),children:[(0,u.jsxs)(o.Z,{direction:"row",alignItems:"center",children:[(0,u.jsxs)(a.Z,{sx:{flexGrow:1},children:[d&&(0,u.jsx)(s.Z,{variant:"h4",gutterBottom:!0,children:d}),!!t.length&&(0,u.jsx)(l.Z,(0,r.Z)((0,r.Z)({separator:(0,u.jsx)(x,{})},m),{},{children:t.map((function(e){return(0,u.jsx)(h,{link:e,activeLast:v,disabled:e.name===Z},e.name||"")}))}))]}),n&&(0,u.jsxs)(a.Z,{sx:{flexShrink:0},children:[" ",n," "]})]}),!!f&&(0,u.jsx)(a.Z,{sx:{mt:2},children:f.map((function(e){return(0,u.jsx)(c.Z,{noWrap:!0,href:e,variant:"body2",target:"_blank",rel:"noopener",sx:{display:"table"},children:e},e)}))})]})}function x(){return(0,u.jsx)(a.Z,{component:"span",sx:{width:4,height:4,borderRadius:"50%",bgcolor:"text.disabled"}})}},46990:function(e,t,n){n.d(t,{Z:function(){return C},w:function(){return d}});var r=n(29439),i=n(72791),a=n(39579),o=n(82599),s=n(54690),l=n(85375),c=n(65734);function d(e,t){var n=(0,i.useState)(!1),d=(0,r.Z)(n,2),u=d[0],h=d[1],p=(0,i.useState)(t),f=(0,r.Z)(p,2),x=f[0],v=f[1],g=(0,i.useState)(e),m=(0,r.Z)(g,2),Z=m[0],j=m[1],b=Z&&x&&(0,a.Z)(new Date(x),new Date(Z))||!1,y=(new Date).getFullYear(),S=Z?(0,o.Z)(Z):null,w=x?(0,o.Z)(x):null,C=y===S&&y===w,k=!(!Z||!x)&&(0,s.Z)(new Date(Z),new Date(x)),D=!(!Z||!x)&&(0,l.Z)(new Date(Z),new Date(x)),M="".concat((0,c.Mu)(Z)," - ").concat((0,c.Mu)(x));return{startDate:Z,endDate:x,onChangeStartDate:function(e){j(e)},onChangeEndDate:function(e){b&&v(null),v(e)},open:u,onOpen:function(){return h(!0)},onClose:function(){return h(!1)},onReset:function(){j(null),v(null)},isSelected:!!Z&&!!x,isError:b,label:M||"",shortLabel:(C?D?k?(0,c.Mu)(x,"dd MMM yy"):"".concat((0,c.Mu)(Z,"dd")," - ").concat((0,c.Mu)(x,"dd MMM yy")):"".concat((0,c.Mu)(Z,"dd MMM")," - ").concat((0,c.Mu)(x,"dd MMM yy")):"".concat((0,c.Mu)(Z,"dd MMM yy")," - ").concat((0,c.Mu)(x,"dd MMM yy")))||"",setStartDate:j,setEndDate:v}}var u=n(1413),h=n(58195),p=n(40464),f=n(8440),x=n(94162),v=n(30286),g=n(59911),m=n(37924),Z=n(77248),j=n(61091),b=n(15608),y=n(53106),S=n(37306),w=n(80184);function C(e){var t=e.title,n=void 0===t?"Select date range":t,r=e.variant,i=void 0===r?"input":r,a=e.startDate,o=e.endDate,s=e.onChangeStartDate,l=e.onChangeEndDate,c=e.open,d=e.onClose,C=e.isError,k=(0,S.Z)("up","md"),D="calendar"===i;return(0,w.jsxs)(h.Z,{fullWidth:!0,maxWidth:!D&&"xs",open:c,onClose:d,PaperProps:{sx:(0,u.Z)({},D&&{maxWidth:720})},children:[(0,w.jsx)(p.Z,{sx:{pb:2},children:n}),(0,w.jsxs)(f.Z,{sx:(0,u.Z)({},D&&k&&{overflow:"unset"}),children:[(0,w.jsx)(x.Z,{spacing:D?3:2,direction:D&&k?"row":"column",justifyContent:"center",sx:{pt:1,"& .MuiCalendarPicker-root":(0,u.Z)({},!k&&{width:"auto"})},children:D?(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(v.Z,{variant:"outlined",sx:{borderRadius:2,borderColor:"divider",borderStyle:"dashed"},children:(0,w.jsx)(b.h,{date:a,onChange:s})}),(0,w.jsx)(v.Z,{variant:"outlined",sx:{borderRadius:2,borderColor:"divider",borderStyle:"dashed"},children:(0,w.jsx)(b.h,{date:o,onChange:l})})]}):(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(y.M,{label:"Start date",value:a,onChange:s,renderInput:function(e){return(0,w.jsx)(g.Z,(0,u.Z)({},e))}}),(0,w.jsx)(y.M,{label:"End date",value:o,onChange:l,renderInput:function(e){return(0,w.jsx)(g.Z,(0,u.Z)({},e))}})]})}),C&&(0,w.jsx)(m.Z,{error:!0,sx:{px:2},children:"End date must be later than start date"})]}),(0,w.jsxs)(Z.Z,{children:[(0,w.jsx)(j.Z,{variant:"outlined",color:"inherit",onClick:d,children:"Cancel"}),(0,w.jsx)(j.Z,{disabled:C,variant:"contained",onClick:d,children:"Apply"})]})]})}},65658:function(e,t,n){n.r(t),n.d(t,{default:function(){return be}});var r=n(74165),i=n(93433),a=n(15861),o=n(29439),s=n(27805),l=n(68476),c=n(53584),d=n(85747),u=n(95999),h=n(5595),p=n(6907),f=n(72791),x=n(20803),v=n(61091),g=n(48928),m=n(88375),Z=n(90166),j=n(81872),b=n(58195),y=n(40464),S=n(93411),w=n(17148),C=n(36128),k=n(65734),D=n(37306),M=n(8523),F=n(27209),I=n(87383),P=n(46839),T=n(46990),A=n(1413),N=n(60277),R=n(12065),E=(0,N.ZP)("div")((function(e){var t=e.theme;return{width:"calc(100% + 2px)",marginLeft:-1,marginBottom:-1,"& .fc":{"--fc-list-event-dot-width":"8px","--fc-border-color":t.palette.divider,"--fc-event-border-color":t.palette.info.light,"--fc-now-indicator-color":t.palette.error.main,"--fc-today-bg-color":t.palette.action.selected,"--fc-page-bg-color":t.palette.background.default,"--fc-neutral-bg-color":t.palette.background.neutral,"--fc-list-event-hover-bg-color":t.palette.action.hover,"--fc-highlight-color":(0,R.Fq)(t.palette.primary.main,.08)},"& .fc .fc-license-message":{display:"none"},"& .fc a":{color:t.palette.text.primary},"& .fc .fc-col-header ":{boxShadow:"inset 0 -1px 0 ".concat(t.palette.divider),"& th":{borderColor:"transparent"},"& .fc-col-header-cell-cushion":(0,A.Z)((0,A.Z)({},t.typography.subtitle2),{},{padding:"13px 0"})},"& .fc .fc-event":{borderColor:"transparent",backgroundColor:"transparent"},"& .fc .fc-event .fc-event-main":{padding:"2px 4px",borderRadius:4,backgroundColor:t.palette.common.white,transition:t.transitions.create("filter"),"&:hover":{filter:"brightness(0.92)"},"&:before,&:after":{top:0,left:0,width:"100%",height:"100%",content:"''",borderRadius:4,position:"absolute",boxSizing:"border-box"},"&:before":{zIndex:8,opacity:.32,border:"solid 1px currentColor"},"&:after":{zIndex:7,opacity:.24,backgroundColor:"currentColor"}},"& .fc .fc-event .fc-event-main-frame":{fontSize:13,lineHeight:"20px",filter:"brightness(0.24)"},"& .fc .fc-daygrid-event .fc-event-title":{overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"},"& .fc .fc-event .fc-event-time":{padding:0,overflow:"unset",fontWeight:t.typography.fontWeightBold},"& .fc .fc-popover":{border:0,overflow:"hidden",boxShadow:t.customShadows.z20,borderRadius:t.shape.borderRadius,backgroundColor:t.palette.background.paper},"& .fc .fc-popover-header":(0,A.Z)((0,A.Z)({},t.typography.subtitle2),{},{padding:t.spacing(1),backgroundColor:(0,R.Fq)(t.palette.grey[500],.12),borderBottom:"solid 1px ".concat(t.palette.divider)}),"& .fc .fc-popover-close":{opacity:.48,transition:t.transitions.create("opacity"),"&:hover":{opacity:1}},"& .fc .fc-more-popover .fc-popover-body":{padding:t.spacing(1.5)},"& .fc .fc-popover-body":{"& .fc-daygrid-event.fc-event-start, & .fc-daygrid-event.fc-event-end":{margin:"2px 0"}},"& .fc .fc-day-other .fc-daygrid-day-top":{opacity:1,"& .fc-daygrid-day-number":{color:t.palette.text.disabled}},"& .fc .fc-daygrid-day-number":(0,A.Z)((0,A.Z)({},t.typography.body2),{},{padding:t.spacing(1,1,0)}),"& .fc .fc-daygrid-event":{marginTop:4},"& .fc .fc-daygrid-event.fc-event-start, & .fc .fc-daygrid-event.fc-event-end":{marginLeft:4,marginRight:4},"& .fc .fc-daygrid-more-link":(0,A.Z)((0,A.Z)({},t.typography.caption),{},{color:t.palette.text.secondary}),"& .fc .fc-timegrid-axis-cushion":(0,A.Z)((0,A.Z)({},t.typography.body2),{},{color:t.palette.text.secondary}),"& .fc .fc-timegrid-slot-label-cushion":(0,A.Z)({},t.typography.body2),"& .fc-direction-ltr .fc-list-day-text, .fc-direction-rtl .fc-list-day-side-text, .fc-direction-ltr .fc-list-day-side-text, .fc-direction-rtl .fc-list-day-text":(0,A.Z)({},t.typography.subtitle2),"& .fc .fc-list-event":(0,A.Z)((0,A.Z)({},t.typography.body2),{},{"& .fc-list-event-time":{color:t.palette.text.secondary}}),"& .fc .fc-list-table":{"& th, td":{borderColor:"transparent"}}}})),W=n(62797),O=n(79286),z=n.n(O),L=n(39579),Y=n(61134),q=n(44695),B=n(94162),_=n(59911),V=n(38254),G=n(35702),U=n(77248),J=n(75814),H=n(13811),Q=n(96015),X=n(39709),$=n(11074),K=n(98574),ee=n(16728),te=n(16455),ne=n(82199),re=n(80184),ie=function(e,t){var n={title:"",description:"",textColor:"#1890FF",allDay:!1,start:t?new Date(t.start).toISOString():(new Date).toISOString(),end:t?new Date(t.end).toISOString():(new Date).toISOString()};return e||t?z()({},n,e):n};function ae(e){var t=e.event,n=e.range,s=e.colorOptions,l=e.onCreateUpdateEvent,c=e.onSearchPatients,d=e.onSearchActs,u=e.onCategoriesByServiceId,h=e.onActsByServiceIdAndCategoryId,p=e.onGetServices,x=e.onDeleteEvent,g=e.onCancel,m=!!t,Z=(0,ee.Z)("settings",K.h),j=(0,o.Z)(Z,2),b=j[0],y=(j[1],(0,w.I0)(),(0,f.useState)("")),S=(0,o.Z)(y,2),C=S[0],k=S[1],D=(0,f.useState)(""),F=(0,o.Z)(D,2),I=F[0],P=F[1],T=(0,f.useState)({id:0,name:"",service:{id:0,name:"",subServices:[],team:[],status:""},reference:"",defaultPrice:0,basePrice:0,type:"",category:{id:0,name:"",subCategories:[]},providers:[]}),N=(0,o.Z)(T,2),R=N[0],E=N[1],O=(0,f.useState)({id:0,user:{id:0,username:"",name:"",nameAr:"",status:"",userRole:""},basePrice:0,priceVariations:[{id:0,name:"",price:0}]}),z=(0,o.Z)(O,2),ae=z[0],oe=z[1],se=(0,f.useState)(!1),le=(0,o.Z)(se,2),ce=le[0],de=le[1],ue=(0,f.useState)(0),he=(0,o.Z)(ue,2),pe=he[0],fe=he[1],xe=(0,f.useState)(!1),ve=(0,o.Z)(xe,2),ge=ve[0],me=ve[1],Ze=(0,f.useState)(!1),je=(0,o.Z)(Ze,2),be=je[0],ye=je[1],Se=[],we=[],Ce=(0,f.useState)([]),ke=(0,o.Z)(Ce,2),De=ke[0],Me=ke[1],Fe=(0,f.useState)(!1),Ie=(0,o.Z)(Fe,2),Pe=Ie[0],Te=Ie[1],Ae=(0,f.useState)(!1),Ne=(0,o.Z)(Ae,2),Re=Ne[0],Ee=Ne[1],We=(0,f.useState)(!1),Oe=(0,o.Z)(We,2),ze=(Oe[0],Oe[1],(0,f.useState)(!1)),Le=(0,o.Z)(ze,2),Ye=Le[0],qe=Le[1],Be=(0,f.useState)(!1),_e=(0,o.Z)(Be,2),Ve=_e[0],Ge=_e[1],Ue=(0,f.useState)(!1),Je=(0,o.Z)(Ue,2),He=Je[0],Qe=Je[1],Xe=(0,f.useState)(!1),$e=(0,o.Z)(Xe,2),Ke=$e[0],et=$e[1],tt=(0,f.useState)(!0),nt=(0,o.Z)(tt,2),rt=nt[0],it=nt[1],at=(0,f.useState)(!1),ot=(0,o.Z)(at,2),st=ot[0],lt=ot[1],ct=(0,f.useState)(!1),dt=(0,o.Z)(ct,2),ut=dt[0],ht=dt[1],pt=(0,f.useState)(!1),ft=(0,o.Z)(pt,2),xt=(ft[0],ft[1],(0,f.useState)({age:"",birthDate:"",doctors:[],fullName:"",gender:"",id:0,identification:"",lastUpdate:"",phoneNumber:""})),vt=(0,o.Z)(xt,2),gt=vt[0],mt=vt[1],Zt=(0,f.useState)(""===C?[]:Se),jt=(0,o.Z)(Zt,2),bt=jt[0],yt=jt[1],St=(0,f.useState)(""===I?[]:De.filter((function(e){return e.name.match(I)}))),wt=(0,o.Z)(St,2),Ct=wt[0],kt=wt[1],Dt=(0,f.useState)(""),Mt=(0,o.Z)(Dt,2),Ft=Mt[0],It=Mt[1],Pt=(0,f.useState)(""),Tt=(0,o.Z)(Pt,2),At=(Tt[0],Tt[1],document.querySelector(".span-custom")),Nt=(0,f.useState)(""),Rt=(0,o.Z)(Nt,2),Et=(Rt[0],Rt[1],(0,f.useState)("")),Wt=(0,o.Z)(Et,2),Ot=(Wt[0],Wt[1],(0,f.useState)([])),zt=(0,o.Z)(Ot,2),Lt=zt[0],Yt=zt[1],qt=(0,f.useState)(""),Bt=(0,o.Z)(qt,2),_t=Bt[0],Vt=Bt[1],Gt=(0,f.useState)([]),Ut=(0,o.Z)(Gt,2),Jt=Ut[0],Ht=Ut[1],Qt=(0,f.useState)("Scheduled"),Xt=(0,o.Z)(Qt,2),$t=Xt[0],Kt=Xt[1],en=(0,f.useState)(""),tn=(0,o.Z)(en,2),nn=(tn[0],tn[1],(0,f.useState)("")),rn=(0,o.Z)(nn,2),an=(rn[0],rn[1],W.Ry().shape({})),on=(0,Y.cI)({resolver:(0,q.X)(an),defaultValues:ie(t,n)}),sn=on.reset,ln=on.watch,cn=on.control,dn=on.handleSubmit,un=on.formState.isSubmitting,hn=ln(),pn=(0,f.useCallback)((0,a.Z)((0,r.Z)().mark((function e(){var n,a,o;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t&&(console.log(t),mt((0,A.Z)({},null===t||void 0===t?void 0:t.patient)),P(null===t||void 0===t||null===(n=t.selectedFee)||void 0===n?void 0:n.fee.name),E((0,A.Z)({},t.selectedFee.fee)),Kt(t.status),Vt(null===t||void 0===t?void 0:t.selectedFee.price.toString()),ae.user.id=null===t||void 0===t||null===(a=t.selectedFee)||void 0===a?void 0:a.provider.id),e.next=4,p();case 4:o=e.sent,Yt((0,i.Z)(o)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])}))),[]),fn=(0,f.useCallback)((function(){t&&!1===ge&&!1===be&&(me(!0),Qe(!0),It(t.selectedFee.price.toString()),"light"===b.themeMode?null===At||void 0===At||At.classList.add("move-top-light"):null===At||void 0===At||At.classList.add("move-top-dark"))}),[t,ge,be,b.themeMode,At]);(0,f.useEffect)((function(){pn(),fn()}),[]);var xn=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(n){var i;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{i={id:null===t||void 0===t?void 0:t.id,patient:{id:gt.id},status:$t,date:null!==t&&void 0!==t&&t.date?null===t||void 0===t?void 0:t.date:n.start,selectedFee:{provider:{id:ae.user.id},fee:{id:R.id},price:_t}},0===ae.user.id&&(i={id:null===t||void 0===t?void 0:t.id,patient:{id:gt.id},status:$t,date:null!==t&&void 0!==t&&t.date?null===t||void 0===t?void 0:t.date:n.start,selectedFee:{fee:{id:R.id},price:_t}}),console.log(i),console.log(ae),l(i,gt.fullName),g(),sn()}catch(r){console.error(r)}case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),vn=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t){var n,a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,k(t.target.value),""===t.target.value){e.next=13;break}return n=t.target.value,e.next=6,c(n);case 6:a=e.sent,Se=a,console.log("patients",Se),Ee(!0),yt((0,i.Z)(Se)),e.next=15;break;case 13:yt([].concat([]));case 15:e.next=20;break;case 17:e.prev=17,e.t0=e.catch(0),console.error(e.t0);case 20:case"end":return e.stop()}}),e,null,[[0,17]])})));return function(t){return e.apply(this,arguments)}}(),gn=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t){var n,a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(P(t.target.value),""===t.target.value){e.next=10;break}return n=t.target.value,e.next=5,d(n);case 5:a=e.sent,we=a,kt((0,i.Z)(we)),e.next=12;break;case 10:yt([].concat([]));case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),mn=function(e,t){P(t.name),E(t),Te(!1),Qe(!0),console.log(R)},Zn=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t,n){var a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n.subServices.length>0)){e.next=5;break}Yt((0,i.Z)(n.subServices)),console.log(Lt),e.next=12;break;case 5:return de(!0),fe(n.id),e.next=9,u(n.id);case 9:a=e.sent,Ht((0,i.Z)(a)),console.log(Jt);case 12:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),jn=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t,n){var a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n.subCategories.length>0)){e.next=5;break}Ht((0,i.Z)(n.subCategories)),console.log([Jt]),e.next=11;break;case 5:return lt(!0),e.next=8,h(pe,n.id);case 8:a=e.sent,Me((0,i.Z)(a)),console.log(De);case 11:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),bn=function(e,t){if(Vt("".concat(t)),!1===Ve){oe((0,A.Z)({},{id:0,user:{id:0,username:"",name:"",nameAr:"",status:"",userRole:""},basePrice:0,priceVariations:[{id:0,name:"",price:0}]}))}it(!1),"providers"!==e.currentTarget.innerText?(et(!1),qe(!1),It(e.currentTarget.innerText)):qe(!0)};document.addEventListener("mousedown",(function(e){var t=document.querySelector(".act"),n=document.querySelector(".patient"),r=document.querySelector(".fee");if(null!==t&&void 0!==t&&t.contains(e.target)||Te(!1),null!==n&&void 0!==n&&n.contains(e.target)||Ee(!1),null===r||void 0===r||!r.contains(e.target)){var i=document.querySelector(".value"),a=document.querySelector(".custom-select");""===i.innerText&&(null===At||void 0===At||At.classList.remove("move-top"),null===At||void 0===At||At.classList.remove("move-top-dark")),"light"===b.themeMode?(null===a||void 0===a||a.classList.remove("custom-select-border-light"),""===Ft&&(null===At||void 0===At||At.classList.remove("move-top-light"))):(null===a||void 0===a||a.classList.remove("custom-select-border-dark"),""===Ft&&(null===At||void 0===At||At.classList.remove("move-top-dark"))),ht(!1)}}));!(hn.allDay||!hn.start||!hn.end)&&(0,L.Z)(new Date(hn.end),new Date(hn.start));return(0,re.jsxs)(ne.ZP,{methods:on,onSubmit:dn(xn),children:[(0,re.jsx)("div",{className:"w-full",children:(0,re.jsxs)(B.Z,{spacing:3,sx:{px:3},children:[(0,re.jsxs)("div",{className:"flex relative",children:[(0,re.jsxs)("div",{className:"w-full patient",children:[!1===ge?(0,re.jsx)(_.Z,{label:"patient",fullWidth:!0,value:C,onChange:vn,onClick:function(e){""!==e.target.value&&Ee(!0)},placeholder:"Search patient...",InputProps:{startAdornment:(0,re.jsx)(V.Z,{position:"start",children:(0,re.jsx)(M.Z,{icon:"eva:search-fill",sx:{color:"text.disabled"}})})}}):(0,re.jsxs)("div",{className:"relative card ".concat("light"===b.themeMode?"card-light":"card-dark"),children:[(0,re.jsx)("div",{className:"return",onClick:function(e){me(!1),ye(!0),k("")},children:"X"}),(0,re.jsxs)("div",{children:[(0,re.jsxs)("p",{children:["nom: ",gt.fullName]}),(0,re.jsxs)("p",{className:"w-50",children:["tel: ",gt.phoneNumber]})]}),(0,re.jsxs)("div",{children:[(0,re.jsxs)("p",{children:["age: ",gt.age]}),(0,re.jsxs)("p",{children:["birthDate: ",gt.birthDate]})]})]}),0!==bt.length&&!1===ge&&!0===Re&&(0,re.jsxs)("div",{className:"search-patient ".concat("light"===b.themeMode?"card-light":"card-dark"),children:[bt.map((function(e,t){return(0,re.jsx)("div",{onClick:function(t){return function(e,t){console.log("s",t),me(!0);var n=e.currentTarget.innerText;k(n),mt((0,A.Z)({},t)),console.log("text",n),console.log("searchP",gt)}(t,e)},children:e.fullName},t)})),(0,re.jsx)("button",{type:"button",className:"btn-add w-full",children:"Add Patient"})]})]}),(0,re.jsxs)("div",{className:"w-full act",children:[(0,re.jsx)(_.Z,{fullWidth:!0,label:"act",value:I,onChange:gn,onClick:function(e){Te(!0)},placeholder:"Search act...",InputProps:{startAdornment:(0,re.jsx)(V.Z,{position:"start",children:(0,re.jsx)(M.Z,{icon:"eva:search-fill",sx:{color:"text.disabled"}})})}}),Pe&&(0,re.jsxs)("div",{className:"search-act search-acts ".concat("light"===b.themeMode?"card-light":"card-dark"),children:[""===I?(0,re.jsxs)(re.Fragment,{children:[!1===ce&&(0,re.jsx)("div",{children:(0,re.jsx)("p",{children:"Services"})}),!1===ce&&Lt.map((function(e,t){return(0,re.jsx)("div",{className:"content",onClick:function(t){return Zn(t,e)},children:e.name},t)}))]}):Ct.map((function(e,t){return(0,re.jsx)("div",{className:"content",onClick:function(t){return mn(0,e)},children:e.name},t)})),""===I&&!1!==ce&&!1===st&&(0,re.jsxs)(re.Fragment,{children:[(0,re.jsx)("div",{children:(0,re.jsx)(M.Z,{icon:"material-symbols:arrow-back",sx:{color:"text.disabled"},onClick:function(e){de(!1)}})}),(0,re.jsx)("p",{children:"Categories"}),Jt.map((function(e,t){return(0,re.jsx)("div",{className:"content",onClick:function(t){return jn(t,e)},children:e.name},t)}))]}),!0===st&&(0,re.jsxs)(re.Fragment,{children:[(0,re.jsx)("div",{children:(0,re.jsx)(M.Z,{icon:"material-symbols:arrow-back",sx:{color:"text.disabled"},onClick:function(e){lt(!1)}})}),(0,re.jsx)("p",{children:"Acts"}),De.map((function(e,t){return(0,re.jsx)("div",{className:"content",onClick:function(t){return mn(0,e)},children:e.name},t)}))]})]})]})]}),(0,re.jsxs)("div",{className:"flex",children:[(0,re.jsx)(Y.Qr,{name:"start",control:cn,render:function(e){var n=e.field;return(0,re.jsx)($.W,(0,A.Z)((0,A.Z)({},n),{},{onChange:function(e){n.onChange(e)},label:"Start date",value:null===t||void 0===t?void 0:t.date,inputFormat:"dd/MM/yyyy hh:mm a",renderInput:function(e){return(0,re.jsx)(_.Z,(0,A.Z)((0,A.Z)({},e),{},{fullWidth:!0}))}}))}}),!0===He&&(0,re.jsxs)("div",{className:"custom-select relative fee ".concat("light"===b.themeMode?"border-light":"border-dark"),children:[(0,re.jsx)("span",{className:"span-custom ".concat("light"===b.themeMode?"span-light":"span-dark"," ").concat(null!==t&&void 0!==t?"move-top-dark move-top":""),children:"Fee"}),(0,re.jsxs)("div",{className:"fee-click",onClick:function(e){et(!Ke),console.log(Ve),!1===Ye&&!1===Ve?it(!0):Ge(!0);var t=document.querySelector(".custom-select");null===At||void 0===At||At.classList.add("move-top"),"light"===b.themeMode?(null===t||void 0===t||t.classList.add("custom-select-border-light"),null===At||void 0===At||At.classList.add("move-top-light")):(null===t||void 0===t||t.classList.add("custom-select-border-dark"),null===At||void 0===At||At.classList.add("move-top-dark")),ht(!ut)},children:[""!==Ft&&(0,re.jsx)("span",{className:"value ".concat("light"===b.themeMode?"value-light":"value-dark"),children:Ft}),(0,re.jsx)("div",{className:"flex-end icon-end",children:(0,re.jsx)(V.Z,{position:"end",children:(0,re.jsx)(M.Z,{icon:"material-symbols:keyboard-arrow-down",sx:{color:"text.disabled",transform:!0===ut?"rotate(180deg)":"rotate(0)"}})})})]}),!0===Ke&&(0,re.jsxs)("div",{className:"search-fee search-fees ".concat("light"===b.themeMode?"card-light":"card-dark"),children:[!0===rt&&(0,re.jsxs)(re.Fragment,{children:[(0,re.jsx)("div",{children:(0,re.jsx)("p",{children:"Fees"})}),(0,re.jsxs)("div",{className:"content",onClick:function(e){return bn(e,null===R||void 0===R?void 0:R.defaultPrice)},children:["default Price: \xa0 ",null===R||void 0===R?void 0:R.defaultPrice]}),(0,re.jsxs)("div",{className:"content",onClick:function(e){return bn(e,null===R||void 0===R?void 0:R.basePrice)},children:["base Price: \xa0 ",null===R||void 0===R?void 0:R.basePrice]}),R.providers.length>0&&(0,re.jsx)("div",{className:"content",onClick:function(e){it(!1),"providers"!==e.currentTarget.innerText?(et(!1),qe(!1),It(e.currentTarget.innerText)):qe(!0)},children:"providers"})]}),!0===Ye&&(0,re.jsxs)(re.Fragment,{children:[(0,re.jsx)("div",{children:(0,re.jsx)(M.Z,{icon:"material-symbols:arrow-back",sx:{color:"text.disabled"},onClick:function(e){qe(!1),it(!0)}})}),(0,re.jsx)("div",{children:"Providers"}),R.providers.map((function(e,t){return(0,re.jsxs)("div",{className:"content",onClick:function(t){return function(e,t){Ge(!Ve),qe(!1),oe((0,A.Z)({},t))}(0,e)},children:[e.user.name," | base Price = ",e.basePrice]},t)}))]}),!0===Ve&&(0,re.jsxs)(re.Fragment,{children:[(0,re.jsx)("div",{children:(0,re.jsx)(M.Z,{icon:"material-symbols:arrow-back",sx:{color:"text.disabled"},onClick:function(e){Ge(!1),qe(!0)}})}),(0,re.jsx)("div",{children:"Price Variations"}),ae.priceVariations.map((function(e,t){return(0,re.jsxs)("div",{className:"content",onClick:function(t){return bn(t,e.price)},children:[e.name," | Price = ",e.price]},t)}))]})]})]})]}),(0,re.jsx)("div",{className:"flex",children:(0,re.jsx)(_.Z,{fullWidth:!0,select:!0,label:"Status",value:$t,onChange:function(e){Kt(e.target.value)},children:["Scheduled","Attended","Cancelled","Missed"].map((function(e){return(0,re.jsx)(G.Z,{value:e,sx:{mx:1,borderRadius:.75,typography:"body2",textTransform:"capitalize"},children:e},e)}))})}),(0,re.jsx)("div",{className:"flex"}),(0,re.jsx)(Y.Qr,{name:"textColor",control:cn,render:function(e){var t=e.field;return(0,re.jsx)(te.tR,{value:t.value,onChange:t.onChange,colors:s})}})]})}),(0,re.jsxs)(U.Z,{children:[m&&(0,re.jsx)(J.Z,{title:"Delete Event",children:(0,re.jsx)(H.Z,{onClick:x,children:(0,re.jsx)(M.Z,{icon:"eva:trash-2-outline"})})}),(0,re.jsx)(Q.Z,{sx:{flexGrow:1}}),(0,re.jsx)(v.Z,{variant:"outlined",color:"inherit",onClick:g,children:"Cancel"}),(0,re.jsx)(X.Z,{type:"submit",variant:"contained",loading:un,children:m?"Update":"Add"})]})]})}var oe=n(28854),se=n(4565),le=[{value:"dayGridMonth",label:"Month",icon:"ic:round-view-module"},{value:"timeGridWeek",label:"Week",icon:"ic:round-view-week"},{value:"timeGridDay",label:"Day",icon:"ic:round-view-day"},{value:"listWeek",label:"Agenda",icon:"ic:round-view-agenda"}];function ce(e){var t=e.date,n=e.view,r=e.onToday,i=e.onNextDate,a=e.onPrevDate,o=e.onChangeView,s=e.onOpenFilter,l=(0,D.Z)("up","sm");return(0,re.jsxs)(B.Z,{alignItems:"center",justifyContent:"space-between",direction:{xs:"column",sm:"row"},sx:{p:2.5},children:[l&&(0,re.jsx)(B.Z,{direction:"row",spacing:1,children:le.map((function(e){return(0,re.jsx)(J.Z,{title:e.label,children:(0,re.jsx)(oe.Z,{size:"small",value:n,selected:e.value===n,onChange:function(){return o(e.value)},children:(0,re.jsx)(M.Z,{icon:e.icon})})},e.value)}))}),(0,re.jsxs)(B.Z,{direction:"row",alignItems:"center",spacing:2,children:[(0,re.jsx)(H.Z,{onClick:a,children:(0,re.jsx)(M.Z,{icon:"eva:arrow-ios-back-fill"})}),(0,re.jsx)(se.Z,{variant:"h5",children:(0,k.Mu)(t)}),(0,re.jsx)(H.Z,{onClick:i,children:(0,re.jsx)(M.Z,{icon:"eva:arrow-ios-forward-fill"})})]}),(0,re.jsxs)(B.Z,{direction:"row",alignItems:"center",spacing:1,children:[l&&(0,re.jsx)(v.Z,{size:"small",color:"error",variant:"contained",onClick:r,children:"Today"}),(0,re.jsx)(H.Z,{onClick:s,children:(0,re.jsx)(M.Z,{icon:"ic:round-filter-list"})})]})]})}var de=n(45812),ue=n.n(de),he=n(53106),pe=n(4544),fe=n(19978),xe=n(4346),ve=n(14783),ge=n(53512);function me(e){var t=e.open,n=e.events,r=e.picker,i=e.onClose,a=e.onResetFilter,o=e.colorOptions,s=e.onSelectEvent,l=e.filterEventColor,c=e.onFilterEventColor;return(0,re.jsxs)(pe.ZP,{anchor:"right",open:t,onClose:i,BackdropProps:{invisible:!0},PaperProps:{sx:{width:ve.w$.W_BASE}},children:[(0,re.jsxs)(B.Z,{direction:"row",alignItems:"center",justifyContent:"space-between",sx:{pl:2,pr:1,py:2},children:[(0,re.jsx)(se.Z,{variant:"subtitle1",children:"Filters"}),(0,re.jsx)(J.Z,{title:"Reset",children:(0,re.jsx)(H.Z,{onClick:a,children:(0,re.jsx)(M.Z,{icon:"eva:trash-2-outline"})})})]}),(0,re.jsx)(j.Z,{}),(0,re.jsx)(se.Z,{variant:"caption",sx:{color:"text.secondary",fontWeight:"fontWeightMedium",p:function(e){return e.spacing(2,2,1,2)}},children:"Colors"}),(0,re.jsx)(te.b8,{colors:o,selected:l,onChangeColor:c,sx:{maxWidth:144,mx:2}}),(0,re.jsx)(se.Z,{variant:"caption",sx:{p:2,color:"text.secondary",fontWeight:"fontWeightMedium"},children:"Range"}),(0,re.jsxs)(B.Z,{spacing:2,sx:{px:2},children:[(0,re.jsx)(he.M,{label:"Start date",value:r.startDate,onChange:r.onChangeStartDate,renderInput:function(e){return(0,re.jsx)(_.Z,(0,A.Z)({size:"small"},e))}}),(0,re.jsx)(he.M,{label:"End date",value:r.endDate,onChange:r.onChangeEndDate,renderInput:function(e){return(0,re.jsx)(_.Z,(0,A.Z)({size:"small"},e))}})]}),(0,re.jsxs)(se.Z,{variant:"caption",sx:{p:2,color:"text.secondary",fontWeight:"fontWeightMedium"},children:["Events (",n.length,")"]}),(0,re.jsx)(ge.Z,{sx:{height:1},children:ue()(n,["end"],["desc"]).map((function(e){return(0,re.jsxs)(fe.Z,{onClick:function(){return s(e.id)},children:[(0,re.jsx)(Q.Z,{sx:{top:0,left:0,width:0,height:0,position:"absolute",borderRight:"8px solid transparent",borderTop:"8px solid ".concat(e.textColor)}}),(0,re.jsx)(xe.Z,{disableTypography:!0,primary:(0,re.jsx)(se.Z,{variant:"subtitle2",sx:{fontSize:13,mt:.5},children:e.title}),secondary:(0,re.jsx)(se.Z,{variant:"caption",component:"div",sx:{fontSize:11,color:"text.disabled"},children:e.allDay?(0,k.zM)(e.start,"dd MMM yy"):(0,re.jsxs)(re.Fragment,{children:[(0,k.zM)(e.start,"dd MMM yy p")," "," - ",(0,k.zM)(e.end,"dd MMM yy p")]})}),sx:{display:"flex",flexDirection:"column-reverse"}})]},e.id)}))})]})}var Ze=n(93358),je=["#00AB55","#1890FF","#54D62C","#FFC107","#FF4842","#04297A","#7A0C2E"];function be(){var e=new Date,t=new Date(e.getFullYear(),e.getMonth(),2).toISOString().split("T")[0],n=new Date(e.getFullYear(),e.getMonth()+1,1).toISOString().split("T")[0],A=(0,F.Ds)().enqueueSnackbar,N=(0,P.K$)().themeStretch,R=(0,w.I0)(),W=(0,D.Z)("up","sm"),O=(0,f.useRef)(null),z=(0,w.v9)((function(e){return e.calendar})),L=z.events,Y=z.openModal,q=z.selectedRange,B=z.selectedEventId,_=(0,w.v9)((function(){return B?L.find((function(e){var t;return(null===(t=e.id)||void 0===t?void 0:t.toString())===(null===B||void 0===B?void 0:B.toString())})):null})),V=(0,T.w)(null,null),G=(0,f.useState)(new Date),U=(0,o.Z)(G,2),J=U[0],H=U[1],Q=(0,f.useState)(!1),X=(0,o.Z)(Q,2),$=X[0],K=X[1],ee=(0,f.useState)(!1),te=(0,o.Z)(ee,2),ne=(te[0],te[1],(0,f.useState)([])),ie=(0,o.Z)(ne,2),oe=ie[0],se=ie[1],le=(0,f.useState)(W?"dayGridMonth":"listWeek"),de=(0,o.Z)(le,2),ue=de[0],he=de[1],pe=(0,f.useState)(Ze.Xz),fe=(0,o.Z)(pe,2),xe=(fe[0],fe[1],(0,f.useState)("")),ve=(0,o.Z)(xe,2),ge=ve[0],be=ve[1],ye=(0,f.useState)(""),Se=(0,o.Z)(ye,2),we=Se[0],Ce=Se[1],ke=(0,f.useState)({id:0,name:"",subServices:[],team:[],status:""}),De=(0,o.Z)(ke,2),Me=De[0],Fe=De[1],Ie=(0,f.useState)({id:0,name:"",subCategories:[]}),Pe=(0,o.Z)(Ie,2),Te=Pe[0],Ae=Pe[1],Ne=(0,f.useState)({id:0,username:"",password:"",name:"",nameAr:"",status:"",userRole:""}),Re=(0,o.Z)(Ne,2),Ee=Re[0],We=Re[1],Oe=(0,f.useState)(""),ze=(0,o.Z)(Oe,2),Le=ze[0],Ye=ze[1],qe=(0,f.useState)([]),Be=(0,o.Z)(qe,2),_e=Be[0],Ve=Be[1],Ge=(0,f.useState)(""),Ue=(0,o.Z)(Ge,2),Je=Ue[0],He=Ue[1],Qe=(0,f.useState)(!1),Xe=(0,o.Z)(Qe,2),$e=(Xe[0],Xe[1],(0,f.useState)("All")),Ke=(0,o.Z)($e,2),et=Ke[0],tt=Ke[1],nt=(0,f.useState)([]),rt=(0,o.Z)(nt,2),it=rt[0],at=rt[1],ot=(0,f.useState)([]),st=(0,o.Z)(ot,2),lt=st[0],ct=st[1],dt=""!==ge||"All"!==we||"All"!==et,ut=(0,f.useCallback)((0,a.Z)((0,r.Z)().mark((function e(){var t;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,yt();case 3:t=e.sent,at((0,i.Z)(t)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),[]),ht=(0,f.useCallback)((0,a.Z)((0,r.Z)().mark((function e(){var t;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ct();case 3:t=e.sent,ct((0,i.Z)(t)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),[]),pt=(0,f.useCallback)((0,a.Z)((0,r.Z)().mark((function e(){var t;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,wt();case 3:t=e.sent,Ve((0,i.Z)(t)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),[]),ft=function(){var i=(0,a.Z)((0,r.Z)().mark((function i(a,o){return(0,r.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:Ye(o.name),Ae(o),t=new Date(e.getFullYear(),e.getMonth(),2).toISOString().split("T")[0],n=new Date(e.getFullYear(),e.getMonth()+1,1).toISOString().split("T")[0],R((0,C.vw)({from:t,to:n},{serviceId:Me.id,categoryId:o.id,providerId:Ee.id}));case 5:case"end":return r.stop()}}),i)})));return function(e,t){return i.apply(this,arguments)}}(),xt=function(){var o=(0,a.Z)((0,r.Z)().mark((function a(o,s){var l;return(0,r.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return jt(s.name),Ce(s.name),Fe(s),r.next=5,St(s.id);case 5:l=r.sent,ct((0,i.Z)(l)),t=new Date(e.getFullYear(),e.getMonth(),2).toISOString().split("T")[0],n=new Date(e.getFullYear(),e.getMonth()+1,1).toISOString().split("T")[0],R((0,C.vw)({from:t,to:n},{serviceId:s.id,categoryId:Te.id,providerId:Ee.id})),console.log(lt);case 11:case"end":return r.stop()}}),a)})));return function(e,t){return o.apply(this,arguments)}}();(0,f.useEffect)((function(){var e=new Date,t=new Date(e.getFullYear(),e.getMonth(),2).toISOString().split("T")[0],n=new Date(e.getFullYear(),e.getMonth()+1,1).toISOString().split("T")[0];R((0,C.vw)({from:t,to:n},{status:et}))}),[R,et]),(0,f.useEffect)((function(){ut(),ht(),pt()}),[]),(0,f.useEffect)((function(){var e=O.current;if(e){var t=e.getApi(),n=W?"dayGridMonth":"listWeek";t.changeView(n),he(n)}}),[W]);var vt=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t){var n,i;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.event;try{i={id:n.id,date:null===n||void 0===n?void 0:n.start},console.log("event",n),console.log("e",i),R((0,C.eJ)(i))}catch(r){console.error(r)}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),gt=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t){var n,i;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.event;try{i={id:n.id,date:null===n||void 0===n?void 0:n.start},console.log("event",n),console.log("e",i),R((0,C.eJ)(i,n._def.extendedProps.patient.fullName)),R((0,C.eJ)(i,n._def.extendedProps.patient.fullName))}catch(r){console.error(r)}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),mt=function(){R((0,C.rV)())},Zt=function(){R((0,C.vm)())},jt=function(e){return R((0,C.bS)(e))},bt=function(e){return R((0,C.kJ)(e))},yt=function(){return R((0,C.U2)())},St=function(e){return R((0,C.CP)(e))},wt=function(){return R((0,C.J9)())},Ct=function(){return R((0,C.CP)())},kt=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{B&&(R((0,C.Bt)(B)),R((0,C.vw)({from:t,to:n},{status:"All"})),Zt(),A("Delete success!"))}catch(r){console.error(r)}case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Dt=function(e){var t=e.inputData,n=e.filterEventColor,r=e.filterStartDate,i=e.filterEndDate,a=e.isError,o=t.map((function(e,t){return[e,t]}));t=o.map((function(e){return e[0]})),n.length&&(t=t.filter((function(e){return n.includes(e.textColor)})));r&&i&&!a&&(t=t.filter((function(e){return(0,k.IO)(null===e||void 0===e?void 0:e.start)>=(0,k.IO)(r)&&(0,k.IO)(e.end)<=(0,k.IO)(i)})));return t}({inputData:L,filterEventColor:oe,filterStartDate:V.startDate,filterEndDate:V.endDate,isError:!!V.isError});return(0,re.jsxs)(re.Fragment,{children:[(0,re.jsx)(p.ql,{children:(0,re.jsx)("title",{children:" Appointements"})}),(0,re.jsxs)(x.Z,{maxWidth:!N&&"xl",children:[(0,re.jsx)(I.Z,{heading:"Appointments",links:[{name:"Appointment",href:""},{name:"Appointment"}],action:(0,re.jsx)(v.Z,{variant:"contained",startIcon:(0,re.jsx)(M.Z,{icon:"eva:plus-fill"}),onClick:mt,children:"New Appointment"})}),(0,re.jsxs)(g.Z,{children:[(0,re.jsx)(m.Z,{value:et,onChange:function(r,i){t=new Date(e.getFullYear(),e.getMonth(),2).toISOString().split("T")[0],n=new Date(e.getFullYear(),e.getMonth()+1,1).toISOString().split("T")[0],R((0,C.vw)({from:t,to:n},{status:i})),tt(i)},sx:{px:2,bgcolor:"background.neutral"},children:["All","Scheduled","Attended","Cancelled","Missed"].map((function(e){return(0,re.jsx)(Z.Z,{label:e,value:e},e)}))}),(0,re.jsx)(j.Z,{}),(0,re.jsx)(S.N,{isFiltered:dt,filterName:ge,filterRole:we,filterType:Le,filterData:Je,optionsRole:it,optionsType:lt,optionsData:_e,onFilterName:function(e){jt(e.target.value),be(e.target.value),Ye(""),Ce(""),He(""),bt(e.target.value)},onFilterRole:xt,onFilterType:ft,onFilterData:function(r,i){He(i.name),We(i),t=new Date(e.getFullYear(),e.getMonth(),2).toISOString().split("T")[0],n=new Date(e.getFullYear(),e.getMonth()+1,1).toISOString().split("T")[0],R((0,C.vw)({from:t,to:n},{serviceId:Me.id,categoryId:Te.id,providerId:i.id}))},onResetFilter:function(){be(""),Ce(""),tt("All"),Ye(""),He(""),Fe({id:0,name:"",subServices:[],team:[],status:""}),Ae({id:0,name:"",subCategories:[]}),We({id:0,username:"",password:"",name:"",nameAr:"",status:"",userRole:""}),ut(),ht(),pt(),t=new Date(e.getFullYear(),e.getMonth(),2).toISOString().split("T")[0],n=new Date(e.getFullYear(),e.getMonth()+1,1).toISOString().split("T")[0],"All"===et&&""===we&&""===ge&&""===Le&&""===Je||R((0,C.vw)({from:t,to:n}))}}),(0,re.jsx)(j.Z,{}),(0,re.jsxs)(E,{children:[(0,re.jsx)(ce,{date:J,view:ue,onNextDate:function(){var e=O.current;if(e){var r=e.getApi();t=new Date(r.getDate().getFullYear(),r.getDate().getMonth()+1,2).toISOString().split("T")[0],n=new Date(r.getDate().getFullYear(),r.getDate().getMonth()+2,1).toISOString().split("T")[0],console.log(t,n),R((0,C.vw)({from:t,to:n},{status:"All"})),r.next(),H(r.getDate())}},onPrevDate:function(){var e=O.current;if(e){var r=e.getApi();r.prev(),t=new Date(r.getDate().getFullYear(),r.getDate().getMonth(),2).toISOString().split("T")[0],n=new Date(r.getDate().getFullYear(),r.getDate().getMonth()+1,1).toISOString().split("T")[0],console.log(t,n),R((0,C.vw)({from:t,to:n},{status:"All"})),H(r.getDate())}},onToday:function(){var e=O.current;if(e){var t=e.getApi();t.today(),H(t.getDate())}},onChangeView:function(e){var t=O.current;t&&(t.getApi().changeView(e),he(e))},onOpenFilter:function(){K(!0)}}),(0,re.jsx)(s.ZPm,{weekends:!0,editable:!0,droppable:!0,selectable:!0,allDayMaintainDuration:!0,eventResizableFromStart:!0,fixedWeekCount:!1,showNonCurrentDates:!1,startParam:t,endParam:n,events:Dt,initialEvents:L,ref:O,initialDate:J,initialView:ue,dayMaxEventRows:3,eventDisplay:"block",headerToolbar:!1,select:function(e){var t=O.current;t&&t.getApi().unselect();R((0,C.jh)({start:e.start,end:e.end}))},eventDrop:gt,eventClick:function(e){R((0,C.lz)(e.event.id))},eventResize:vt,height:W?720:"auto",plugins:[c.Z,d.ZP,h.ZP,u.ZP,l.ZP]})]})]})]}),(0,re.jsxs)(b.Z,{fullWidth:!0,maxWidth:"md",open:Y,onClose:Zt,children:[(0,re.jsx)(y.Z,{children:_?"Edit Appointment":"Add Appointment"}),(0,re.jsx)(ae,{event:_,range:q,onCancel:Zt,onCreateUpdateEvent:function(e,t){e.id=B,B?(R((0,C.eJ)(e,t)),A("Update success!")):(R((0,C.yM)(e,t)),A("Create success!"))},onSearchPatients:jt,onSearchActs:function(e){return R((0,C.Ec)(e))},onCategoriesByServiceId:St,onActsByServiceIdAndCategoryId:function(e,t){return R((0,C.$G)(e,t))},onGetServices:yt,onDeleteEvent:kt,colorOptions:je})]}),(0,re.jsx)(me,{events:L,picker:V,open:$,onClose:function(){K(!1)},colorOptions:je,filterEventColor:oe,onFilterEventColor:function(e){var t=oe.includes(e)?oe.filter((function(t){return t!==e})):[].concat((0,i.Z)(oe),[e]);se(t)},onResetFilter:function(){var e=V.setStartDate,t=V.setEndDate;se([]),e&&t&&(e(null),t(null))},onSelectEvent:function(e){console.log("hey"),e&&(mt(),R((0,C.lz)(e)))}})]})}},93411:function(e,t,n){n.d(t,{Z:function(){return m},N:function(){return b}});var r=n(29439),i=n(72791),a=n(60807),o=n(24390),s=n(45473),l=n(94162),c=n(4565),d=n(13811),u=n(35702),h=n(61091),p=n(35922),f=n(8523),x=n(22734),v=n(7456),g=n(80184);function m(e){var t=e.row,n=e.selected,m=e.onEditRow,Z=e.onSelectRow,j=e.onDeleteRow,b=(0,i.useState)(!1),y=(0,r.Z)(b,2),S=y[0],w=y[1],C=(0,i.useState)(null),k=(0,r.Z)(C,2),D=k[0],M=k[1],F=function(){M(null)};return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)(a.Z,{hover:!0,selected:n,children:[(0,g.jsx)(o.Z,{padding:"checkbox",children:(0,g.jsx)(s.Z,{checked:n,onClick:Z})}),(0,g.jsx)(o.Z,{children:(0,g.jsx)(l.Z,{direction:"row",alignItems:"center",spacing:2,children:(0,g.jsx)(c.Z,{variant:"subtitle2",noWrap:!0,children:t.patient.fullName})})}),(0,g.jsx)(o.Z,{align:"left",children:t.patient.phoneNumber}),(0,g.jsx)(o.Z,{align:"left",sx:{textTransform:"capitalize"},children:t.selectedFee.price}),(0,g.jsx)(o.Z,{align:"left",children:t.date}),(0,g.jsx)(o.Z,{align:"left",children:t.selectedFee.fee.service.name}),(0,g.jsx)(o.Z,{align:"left",children:(0,g.jsx)(p.Z,{variant:"soft",sx:{textTransform:"capitalize"},children:t.status})}),(0,g.jsx)(o.Z,{align:"right",children:(0,g.jsx)(d.Z,{color:D?"inherit":"default",onClick:function(e){M(e.currentTarget)},children:(0,g.jsx)(f.Z,{icon:"eva:more-vertical-fill"})})})]}),(0,g.jsxs)(x.Z,{open:D,onClose:F,arrow:"right-top",sx:{width:140},children:[(0,g.jsxs)(u.Z,{onClick:function(){w(!0),F()},sx:{color:"error.main"},children:[(0,g.jsx)(f.Z,{icon:"eva:trash-2-outline"}),"Delete"]}),(0,g.jsxs)(u.Z,{onClick:function(){m(),F()},children:[(0,g.jsx)(f.Z,{icon:"eva:edit-fill"}),"Edit"]})]}),(0,g.jsx)(v.Z,{open:S,onClose:function(){w(!1)},title:"Delete",content:"Are you sure want to delete?",action:(0,g.jsx)(h.Z,{variant:"contained",color:"error",onClick:j,children:"Delete"})})]})}var Z=n(59911),j=n(38254);function b(e){var t=e.isFiltered,n=e.filterName,r=e.filterRole,i=e.optionsRole,a=e.filterType,o=e.optionsType,s=e.filterData,c=e.optionsData,d=e.onFilterName,p=e.onFilterRole,x=e.onFilterType,v=e.onResetFilter,m=e.onFilterData;return(0,g.jsxs)(l.Z,{spacing:2,alignItems:"center",direction:{xs:"column",sm:"row"},sx:{px:2.5,py:3},children:[(0,g.jsx)(Z.Z,{fullWidth:!0,select:!0,label:"Service",value:r,SelectProps:{MenuProps:{PaperProps:{sx:{maxHeight:260}}}},sx:{maxWidth:{sm:240},textTransform:"capitalize"},children:i.map((function(e,t){return(0,g.jsx)(u.Z,{value:e.name,onClick:function(t){return p(t,e)},sx:{mx:1,borderRadius:.75,typography:"body2",textTransform:"capitalize"},children:e.name},t)}))}),(0,g.jsx)(Z.Z,{fullWidth:!0,select:!0,label:"Category",value:a,SelectProps:{MenuProps:{PaperProps:{sx:{maxHeight:260}}}},sx:{maxWidth:{sm:240},textTransform:"capitalize"},children:o.map((function(e){return(0,g.jsx)(u.Z,{value:e.name,onClick:function(t){return x(t,e)},sx:{mx:1,borderRadius:.75,typography:"body2",textTransform:"capitalize"},children:e.name},e.id)}))}),(0,g.jsx)(Z.Z,{fullWidth:!0,select:!0,label:"Providers",value:s,SelectProps:{MenuProps:{PaperProps:{sx:{maxHeight:260}}}},sx:{maxWidth:{sm:240},textTransform:"capitalize"},children:c.map((function(e){return(0,g.jsx)(u.Z,{value:e.name,onClick:function(t){return m(t,e)},sx:{mx:1,borderRadius:.75,typography:"body2",textTransform:"capitalize"},children:e.name},e.id)}))}),(0,g.jsx)(Z.Z,{fullWidth:!0,value:n,onChange:d,placeholder:"Search...",InputProps:{startAdornment:(0,g.jsx)(j.Z,{position:"start",children:(0,g.jsx)(f.Z,{icon:"eva:search-fill",sx:{color:"text.disabled"}})})}}),t&&(0,g.jsx)(h.Z,{color:"error",sx:{flexShrink:0},onClick:v,startIcon:(0,g.jsx)(f.Z,{icon:"eva:trash-2-outline"}),children:"Clear"})]})}}}]);
//# sourceMappingURL=5658.de2838dd.chunk.js.map