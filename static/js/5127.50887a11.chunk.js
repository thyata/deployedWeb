"use strict";(self.webpackChunk_minimal_material_kit_react=self.webpackChunk_minimal_material_kit_react||[]).push([[5127],{87752:function(e,i,n){n.r(i),n.d(i,{default:function(){return q}});var r=n(6907),t=n(20803),o=n(7055),a=n(46839),s=n(87383),l=n(74165),u=n(15861),d=n(29439),c=n(72791),m=n(62797),p=n(57689),b=n(61134),f=n(44695),h=n(39709),g=n(48928),v=n(94162),Z=n(82199),x=n(27209),j=n(97175),_=n(80184);function k(e){var i=e.isEdit,n=e.etablissement,r=(0,p.s0)(),t=(0,x.Ds)().enqueueSnackbar,a=(0,c.useState)(!1),s=(0,d.Z)(a,2),k=s[0],q=s[1],L=m.Ry().shape({nom:m.Z_().nullable().required("Le nom d'\xe9tablissement est obligatoire"),imgUrl:m.Z_().nullable().required("Importer l'image d'\xe9tablissement"),responsable:m.Ry().shape({nom:m.Z_().nullable().required("Le nom du responsable est obligatoire"),post:m.Z_().nullable().required("Le poste du responsable est obligatoire"),email:m.Z_().email().nullable().required("L'adresse e-mail du responsable est obligatoire"),telephone:m.Z_().nullable().required("Le num\xe9ro de t\xe9l\xe9phone du responsable est obligatoire"),password:m.Z_().nullable().required("Le mot de passe du responsable est obligatoire")}),location:m.Ry().shape({region:m.Ry().shape({id:m.Rx().min(1).required("La r\xe9gion est obligatoire")})})}),w=(0,c.useMemo)((function(){return{id:null===n||void 0===n?void 0:n.id,nom:(null===n||void 0===n?void 0:n.nom)||"",imgUrl:(null===n||void 0===n?void 0:n.imgUrl)||"",responsable:(null===n||void 0===n?void 0:n.responsable)||{nom:"",post:"",email:"",telephone:"",password:""},location:(null===n||void 0===n?void 0:n.location)||{region:{id:0}}}}),[n]),y=(0,b.cI)({resolver:(0,f.X)(L),defaultValues:w}),S=y.reset,C=y.handleSubmit,P=y.formState.isSubmitting;(0,c.useEffect)((function(){i&&n&&S(w),i||S(w)}),[i,n]);var R=function(){var e=(0,u.Z)((0,l.Z)().mark((function e(n){return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:q(!0);try{S(),t(i?"La mis \xe0 jour a \xe9t\xe9 realise avec succ\xe8s!":"La cr\xe9ation a \xe9t\xe9 realise avec succ\xe8s!"),q(!1),r(o.vB.gestionnaireEffectif.PointHomePage),console.log("DATA",n)}catch(a){console.error(a),q(!1)}case 2:case"end":return e.stop()}}),e)})));return function(i){return e.apply(this,arguments)}}();return(0,_.jsxs)(Z.ZP,{methods:y,children:[(0,_.jsx)(g.Z,{children:!i&&(0,_.jsx)(j.Z,{})}),(0,_.jsx)(v.Z,{justifyContent:"flex-end",direction:"row",spacing:2,sx:{mt:3},children:(0,_.jsx)(h.Z,{size:"large",variant:"contained",loading:k&&P,onClick:C(R),children:i?"Modifier":"Cr\xe9er"})})]})}function q(){var e=(0,a.K$)().themeStretch;return(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(r.ql,{children:(0,_.jsx)("title",{children:" Ajouter une point | Minimal UI"})}),(0,_.jsxs)(t.Z,{maxWidth:!e&&"lg",children:[(0,_.jsx)(s.Z,{heading:"Ajouter une point de vaccinations",links:[{name:"Tableau de bord"},{name:"Liste des points de vaccinations",href:o.vB.gestionnaireEffectif.PointHomePage},{name:"Formulaire de cr\xe9ation d'une point"}]}),(0,_.jsx)(k,{})]})]})}}}]);
//# sourceMappingURL=5127.50887a11.chunk.js.map